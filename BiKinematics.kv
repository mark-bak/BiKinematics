#: kivy 1.11.1

<Coords@BoxLayout>:
    orientation: "horizontal"
    size_hint_y:None
    height: 30
    Label:
        text: root.txt
    TextInput:
        text: root.txt_x
    TextInput:
        text: root.txt_y


<GeoPoint@Scatter>:
    size_hint: None,None
    size: lbl.size
    canvas.after:
        Color:
            rgba: 0,1,0,0.5
        Rectangle:
            size: self.size
            pos: self.pos 
        Color:
            rgba: 1,0,0,1
        Ellipse:
            size: 5,5
            pos: self.pos[0]-2.5,self.pos[1]-2.5
    Label:
        id:lbl
        text: root.txt
        size: self.texture_size
               
<MainPage>:
    GeoPoint:
        id: g1
        txt: 'Point1'
    GeoPoint:
        id:g2
        txt: 'Point2'
 
    AnchorLayout: #Points and buttons on rhs
        anchor_x: "right"
        anchor_y: "top"
        BoxLayout:
            orientation: "vertical"
            size_hint_x: None
            width: 250 
            canvas.after:
                Color:
                    rgba: 1,0,0,0.5
                Rectangle:
                    size: self.size
                    pos: self.pos  
            BoxLayout:
                orientation: 'horizontal'
                size_hint_y:None
                height: 30
                Label:
                    text: "Point"
                Label:
                    text: "x_pos"
                Label:
                    text: "y_pos"    

            Coords:
                txt: "Point1"
                txt_x: str(round(g1.x,2))
                txt_y: str(round(g1.y,2))
            Coords:
                txt: "Point2"
                txt_x: str(round(g2.x,2))
                txt_y: str(round(g2.y,2))
            Coords:
          

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            path: root.get_dir()

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)